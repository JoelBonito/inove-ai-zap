# LOG DIÁRIO — 2026-01-20
- Projeto: inove-ai-zap
- Fuso: America/Sao_Paulo

## Sessões
1. 07:47 — 08:30 (00:43)
   - Atividades:
     - Análise de configuração de webhook da UAZAPI.
     - Correção de header de autenticação: `apikey` → `token`.
     - Correção de endpoint de envio: `/message/sendText` → `/send/text`.
     - Correção de campos do body: `phone/message` → `number/text`.
     - Deploy de Cloud Functions corrigidas.
     - Validação de envio de campanha funcionando.

2. 08:10 — 08:30 (00:20)
   - Atividades:
     - Implementação de `sendMediaMessage` para envio de imagens via UAZAPI.
     - Modificação do worker para detectar `mediaUrl` e usar função correta.
     - Deploy da função de envio de mídia.
     - Otimização de performance do `NewCampaignModal` com `useMemo`.

4. 16:24 — 17:00 (00:36)
   - Atividades:
     - Diagnóstico de erro 429 (Too Many Requests) na Cloud Function `generateQRCode` (limite da UAZAPI).
     - Identificação de causa raiz de falha em produção: quebras de linha (`\n`) nas variáveis de ambiente da Vercel.
     - Implementação de função `.trim()` na inicialização do Firebase para evitar erros de sintaxe em variáveis de ambiente.
     - Adição e posterior limpeza de logs de debug detalhados no frontend (listener do Firestore).
     - Configuração automática de webhook da UAZAPI no processo de geração de QR Code.
     - Deploy final e validação de contatos e status do WhatsApp funcionando em produção.

## Resumo do Dia
- Início do dia: 07:47
- Fim do dia: 17:00
- Tempo total: 02:14
